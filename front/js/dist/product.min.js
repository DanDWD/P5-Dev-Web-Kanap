"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var paramsUrl=new URLSearchParams(document.location.search),articleId=paramsUrl.get("id");function displayArticleInfos(t){document.getElementById("title").textContent=t.name,document.getElementById("price").textContent=t.price,document.getElementById("description").textContent=t.description,document.querySelector(".item__img").innerHTML='\n        <img src="'.concat(t.imageUrl,'" alt="').concat(t.altTxt,'">');var e=t.colors,n="";e.forEach(function(t){var e='\n            <option value="'.concat(t,'">').concat(t,"</option>");n+=e}),document.getElementById("colors").innerHTML=n}fetch("http://localhost:3000/api/products/".concat(articleId)).then(function(t){return t.json()}).then(function(t){console.table(t),displayArticleInfos(t)});var article=function t(e,n,c){_classCallCheck(this,t),this.articleId=e,this.color=n,this.quantity=c};function addToCart(){var a=displayArticleInfos(articleInfos),t=document.querySelector("#addToCart"),r=document.querySelector("#colors"),i=document.querySelector("#quantity");t.addEventListener("click",function(t){t.preventDefault();var e=new product(a._id,r.value,Number(i.value));if(1<=e.quantity&&e.quantity<=100){var n=JSON.parse(localStorage.getItem("laSelection"));if(null==n){var c=[e];localStorage.setItem("laSelection",JSON.stringify(c))}else if(1==n.some(function(t){return t.id===e.id&&t.color===e.color})){var o=cart.findIndex(function(t){return t.id===e.id&&t.color===e.color});cart[o].quantity=cart[o].quantity+e.quantity,localStorage.setItem("laSelection",JSON.stringify(cart))}else cart.push(selection),localStorage.setItem("laSelection",JSON.stringify(cart))}else alert("la quantité doit être comprise entre 1 et 100.")})}
//# sourceMappingURL=product.min.js.map
